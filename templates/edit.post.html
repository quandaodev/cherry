{{ define "content" }}

<main class="content contentpost" role="main">
  <form role="form" action="/post/update" method="post">
  <h1>Edit post</h1>
  <div class="form-group">
    Title <input type="text" name="title" id="title" size="75" value="{{ .Title }}" /><br/>
    Slug  <input type="text" name="slug" id="slug" size="75" value="{{.Slug}}"/><br/>
    <textarea class="justified" name="content" id="content" placeholder="Content" rows="5">{{.Content}}</textarea><br/>
    <input type="hidden" name="html" id="html" />
    <span class="justified" >
      <button type="submit">Save</button>
      <a href="/post?id={{ .Slug }}" title="Cancel">Cancel</a>
    </span>
    
  </div>
</form>
</main>

<<script>
  $(document).ready(function(){
    var simplemde = new SimpleMDE({ element: $("#content")[0] });
    simplemde.codemirror.on("change", function(){
      $("#html").val(simplemde.options.previewRender(simplemde.value()));
    });
});
</script>
{{ end }}